{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query\";\nexport const linktreeApi = createApi({\n  reducerPath: \"linktreeApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://localhost:8000\",\n    credentials: \"include\"\n  }),\n  endpoints: builder => ({\n    signup: builder.mutation({\n      query: body => ({\n        url: \"/api/accounts\",\n        method: \"POST\",\n        body,\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    }),\n    login: builder.mutation({\n      query: _ref => {\n        let {\n          username,\n          password\n        } = _ref;\n        const body = new FormData();\n        body.append(\"username\", username);\n        body.append(\"password\", password);\n        return {\n          url: \"/token\",\n          method: \"POST\",\n          body,\n          credentials: \"include\"\n        };\n      },\n      invalidatesTags: [\"Account\"]\n    }),\n    getAccount: builder.query({\n      query: () => ({\n        url: '/token',\n        credentials: \"include\"\n      }),\n      transformResponse: response => response ? response.account : null,\n      providesTags: [\"Account\"]\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: \"/token\",\n        method: \"DELETE\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Account\"]\n    })\n  })\n});\nexport const {\n  useSignUpMutation,\n  use\n} = linktreeApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","linktreeApi","reducerPath","baseQuery","baseUrl","credentials","endpoints","builder","signup","mutation","query","body","url","method","invalidatesTags","login","username","password","FormData","append","getAccount","transformResponse","response","account","providesTags","logout","useSignUpMutation","use"],"sources":["/app/src/app/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/dist/query\";\n\nexport const linktreeApi = createApi({\n    reducerPath: \"linktreeApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: \"https://localhost:8000\",\n        credentials: \"include\"\n    }),\n    endpoints: (builder) => ({\n        signup: builder.mutation({\n            query: (body) => ({\n                url: \"/api/accounts\",\n                method: \"POST\",\n                body,\n                credentials: \"include\",\n            }),\n            invalidatesTags: [\"Account\"]\n        }),\n        login: builder.mutation({\n            query: ({ username, password }) => {\n                const body = new FormData()\n                body.append(\"username\", username)\n                body.append(\"password\", password)\n                return {\n                    url: \"/token\",\n                    method: \"POST\",\n                    body,\n                    credentials: \"include\",\n                }\n            },\n            invalidatesTags: [\"Account\"]\n        }),\n        getAccount: builder.query({\n            query: () => ({\n                url: '/token',\n                credentials: \"include\",\n            }),\n            transformResponse: (response) => (response ? response.account : null),\n            providesTags: [\"Account\"]\n        }),\n        logout: builder.mutation({\n            query: () => ({\n              url: \"/token\",\n              method: \"DELETE\",\n              credentials: \"include\",\n            }),\n            invalidatesTags: [\"Account\"],\n          }),\n    })\n})\n\nexport const {\n    useSignUpMutation,\n    use\n} = linktreeApi"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,6BAA1C;AAEA,OAAO,MAAMC,WAAW,GAAGF,SAAS,CAAC;EACjCG,WAAW,EAAE,aADoB;EAEjCC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAE,wBADa;IAEtBC,WAAW,EAAE;EAFS,CAAD,CAFQ;EAMjCC,SAAS,EAAGC,OAAD,KAAc;IACrBC,MAAM,EAAED,OAAO,CAACE,QAAR,CAAiB;MACrBC,KAAK,EAAGC,IAAD,KAAW;QACdC,GAAG,EAAE,eADS;QAEdC,MAAM,EAAE,MAFM;QAGdF,IAHc;QAIdN,WAAW,EAAE;MAJC,CAAX,CADc;MAOrBS,eAAe,EAAE,CAAC,SAAD;IAPI,CAAjB,CADa;IAUrBC,KAAK,EAAER,OAAO,CAACE,QAAR,CAAiB;MACpBC,KAAK,EAAE,QAA4B;QAAA,IAA3B;UAAEM,QAAF;UAAYC;QAAZ,CAA2B;QAC/B,MAAMN,IAAI,GAAG,IAAIO,QAAJ,EAAb;QACAP,IAAI,CAACQ,MAAL,CAAY,UAAZ,EAAwBH,QAAxB;QACAL,IAAI,CAACQ,MAAL,CAAY,UAAZ,EAAwBF,QAAxB;QACA,OAAO;UACHL,GAAG,EAAE,QADF;UAEHC,MAAM,EAAE,MAFL;UAGHF,IAHG;UAIHN,WAAW,EAAE;QAJV,CAAP;MAMH,CAXmB;MAYpBS,eAAe,EAAE,CAAC,SAAD;IAZG,CAAjB,CAVc;IAwBrBM,UAAU,EAAEb,OAAO,CAACG,KAAR,CAAc;MACtBA,KAAK,EAAE,OAAO;QACVE,GAAG,EAAE,QADK;QAEVP,WAAW,EAAE;MAFH,CAAP,CADe;MAKtBgB,iBAAiB,EAAGC,QAAD,IAAeA,QAAQ,GAAGA,QAAQ,CAACC,OAAZ,GAAsB,IAL1C;MAMtBC,YAAY,EAAE,CAAC,SAAD;IANQ,CAAd,CAxBS;IAgCrBC,MAAM,EAAElB,OAAO,CAACE,QAAR,CAAiB;MACrBC,KAAK,EAAE,OAAO;QACZE,GAAG,EAAE,QADO;QAEZC,MAAM,EAAE,QAFI;QAGZR,WAAW,EAAE;MAHD,CAAP,CADc;MAMrBS,eAAe,EAAE,CAAC,SAAD;IANI,CAAjB;EAhCa,CAAd;AANsB,CAAD,CAA7B;AAiDP,OAAO,MAAM;EACTY,iBADS;EAETC;AAFS,IAGT1B,WAHG"},"metadata":{},"sourceType":"module"}